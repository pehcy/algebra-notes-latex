\ProvidesPackage{styles}
\usepackage{amsmath, nccmath}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{bbm}
\usepackage{graphicx}
\usepackage[export]{adjustbox}
\newcommand\sbullet[1][.5]{\mathbin{\vcenter{\hbox{\scalebox{#1}{$\bullet$}}}}}
\usepackage{amsthm}
\usepackage{thmtools}
\usepackage{mdframed}
\usepackage{mathtools, cuted}
\usepackage{actuarialsymbol}
\usepackage{tabularx}
\usepackage{tabu}
\usepackage{colortbl}
\usepackage{cancel}
\usepackage[table]{xcolor}
\usepackage{booktabs}
\usepackage{titlesec}
%\usepackage{algorithm2e}
%\usepackage{algorithm}
%\usepackage{algorithmic}
\usepackage{array}
\usepackage[most]{tcolorbox}
\usepackage{cmupint}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\aut}{Aut}
\DeclareMathOperator{\gal}{Gal}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\stab}{Stab}
\DeclareMathOperator{\orb}{Orbit}
\DeclareMathOperator{\Ima}{Im}
\newcommand\perm[2][^n]{\prescript{#1\mkern-2.5mu}{}P_{#2}}
\newcommand\comb[2][^n]{\prescript{#1\mkern-0.5mu}{}C_{#2}}
\newcommand{\Cancel}[2][black]{{\color{#1}\cancel{\color{black}#2}}}

\DeclareRobustCommand{\bxseries}{\fontseries{bx}\selectfont}
\DeclareTextFontCommand{\textbx}{\fontseries{bx}}
\DeclareTextFontCommand{\bred}{\color{fireEngRed}\bfseries}
\DeclareTextFontCommand{\bgreen}{\color{extinctGreen}\bfseries}
\DeclareTextFontCommand{\bgold}{\color{darkGoldrod}\bfseries}

\definecolor{Acolor}{RGB}{104,129,174}
\definecolor{Bcolor}{RGB}{227,118,59}
\definecolor{Ccolor}{RGB}{169,183,209}
\definecolor{medgrey}{RGB}{150,150,150}

\definecolor{amaranth}{rgb}{0.9, 0.17, 0.31}
\colorlet{codegreen}{green!20}
\colorlet{codeyellow}{yellow!60}
\colorlet{codered}{red!30}

\definecolor{myred}{RGB}{240,150,150}
\definecolor{mygreen}{RGB}{150,240,150}
\definecolor{myblue}{RGB}{150,150,255}
\definecolor{mypurple}{RGB}{210,150,255}
\definecolor{myyellow}{RGB}{255,195,0}
\definecolor{mygrey}{RGB}{230,230,230}
\definecolor{lightgrey}{rgb}{.85, .85, .85}

\colorlet{lightred}{red!30!white}
\colorlet{lightblue}{blue!30!white}
\colorlet{lightyellow}{yellow!30!white}
\colorlet{keylime}{green!10!white}
\colorlet{darkgreen}{green!50!black}
\colorlet{midgreen}{green!70!black}
\colorlet{lightgreen}{darkgreen!30!white}
\colorlet{lightpurple}{violet!60!white}
\colorlet{darkgrey}{black!70}
\colorlet{midgrey}{black!50}
\definecolor{Red}{rgb}{.9,0,0}
\definecolor{Blue}{rgb}{0,0,.9}
\definecolor{Green}{rgb}{0,.9,0}
\definecolor{Gold}{rgb}{.83,.67,.08}

\definecolor{conj-purple}{HTML}{E4B7FF}
\definecolor{conj-orange}{HTML}{FFD4B7}

\definecolor{grey}{rgb}{.7, .7, .7}
\colorlet{lred}{red!50!white}
\definecolor{lblue}{rgb}{0.60, 0.75, 1}
\colorlet{lgreen}{green!40!white}
\colorlet{lyellow}{yellow!30!white}
%\definecolor{lpurple}{rgb}{0.6 0.35 0.8}
\definecolor{lpurple}{rgb}{0.7 0.45 0.9}
\colorlet{lorange}{orange!50!white}
\definecolor{lightgrey}{rgb}{.85, .85, .85}
\definecolor{faded}{rgb}{.75,.75,.75}
\definecolor{midgrey}{rgb}{.5,.5,.5}
%\definecolor{midgrey}{rgb}{.35, .35, .35}
%\definecolor{amethyst}{rgb}{0.6 0.4 0.8}
\definecolor{amethyst}{rgb}{0.54 0.17 0.89}
\definecolor{amber}{rgb}{1.0 0.49 0.0}
\definecolor{turq}{rgb}{0.12 0.69 0.71}

\newcommand{\olsi}[1]{\,\overline{\!{#1}}} % overline short italic
%\usepackage{mathrsfs}
%\usepackage{titletoc}

% pseudocode formatting
\usepackage{setspace}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}
\renewcommand{\KwSty}[1]{\textnormal{\textcolor{amaranth!90!black}{\bfseries #1}}\unskip}
\renewcommand{\ArgSty}[1]{\textnormal{\ttfamily #1}\unskip}
\SetKwComment{Comment}{\color{codegreen!80!black!190}// }{}
\renewcommand{\CommentSty}[1]{\textnormal{\ttfamily\color{codegreen!80!black!190}#1}\unskip}
\newcommand{\var}{\texttt}
\newcommand{\FuncCall}[2]{\texttt{\bfseries #1(#2)}}
\SetKwProg{Function}{function}{}{}
\SetKw{Continue}{continue}
\renewcommand{\ProgSty}[1]{\texttt{\bfseries #1}}
\DontPrintSemicolon
\SetAlFnt{\small}
\SetAlgorithmName{Pseudocode}{algorithmautorefname}

% pseudocode highlighting
\usepackage{tikz}
\usetikzlibrary{fit,calc}
% two slightly different boxit commands, to ensure the inner boxes end at the same spot
\newcommand{\boxit}[2]{
    \tikz[remember picture,overlay] \node (A) {};\ignorespaces
    \tikz[remember picture,overlay]{\node[yshift=3pt,fill=#1,opacity=.25,fit={($(A)+(0,0.15\baselineskip)$)($(A)+(.9\linewidth,-{#2}\baselineskip - 0.25\baselineskip)$)}] {};}\ignorespaces
}
\newcommand{\boxitt}[2]{
    \tikz[remember picture,overlay] \node (A) {};\ignorespaces
    \tikz[remember picture,overlay]{\node[yshift=3pt,fill=#1,opacity=.25,fit={($(A)+(0,0.15\baselineskip)$)($(A)+(.858\linewidth,-{#2}\baselineskip - 0.25\baselineskip)$)}] {};}\ignorespaces
}

\usepackage{algpseudocode}

\usepackage{tikz}
\usetikzlibrary{arrows}
\tikzstyle{every picture}+=[remember picture]
\usepackage{pgfplots}
\pgfplotsset{compat=1.16}
\usetikzlibrary{arrows,shapes,positioning,calc,chains,matrix,positioning,scopes}
\usetikzlibrary{positioning, arrows.meta, graphs}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{arrows.meta, positioning}
\makeatletter
\usepackage{tikz-cd}

\usepackage{enumerate}
\usepackage[inline]{enumitem}
\usepackage{setspace}
\singlespacing
\setlength{\parindent}{2em}
\setlength{\parskip}{0.5em}

\usepackage{fancybox}
\usepackage{framed}
\usepackage{ragged2e}

%\theoremstyle{definition}
%\newtheorem{definition}{Definition}[section]
% \newtheorem{theorem}{Theorem}[section]
% \newtheorem{axiom}{Axiom}[section]
\newtheorem*{remark}{Remark}
%\newmdtheoremenv{definition}{Definition}[section]

\newcommand\norm[1]{\left\lVert#1\right\rVert}

\newtheoremstyle{break}{0pt}{0pt}{\normalfont}{0pt}{\bfseries}{}{\newline}{\thmname{#1} \thmnumber{#2} \quad \thmnote{\textbf#3}}
\declaretheorem[numberwithin=chapter,style=break,name=Theorem]{theorem}

\tcolorboxenvironment{theorem}{ 
  breakable,
  colback=green!5,
  colframe={green!55!black},
}

\newtheoremstyle{break}{0pt}{0pt}{\normalfont}{0pt}{\bfseries}{}{\newline}{\thmname{#1} \thmnumber{#2} \quad \thmnote{\textbf#3}}
\declaretheorem[numberwithin=chapter,style=break,name=Definition]{definition}

\tcolorboxenvironment{definition}{ 
  breakable,
  colback=red!5,
  colframe={red!55!black},
}

\newtheoremstyle{break}{0pt}{0pt}{\normalfont}{0pt}{\bfseries}{}{\newline}{\thmname{#1} \thmnumber{#2} \quad \thmnote{\textbf#3}}
\declaretheorem[numberwithin=chapter,style=break,name=Lemma]{lemma}

\tcolorboxenvironment{lemma}{ 
  breakable,
  colback=orange!5,
  colframe={orange!55!black},
}

\newtheoremstyle{break}{0pt}{0pt}{\normalfont}{0pt}{\bfseries}{}{\newline}{\thmname{#1} \thmnumber{#2} \quad \thmnote{\textbf#3}}
\declaretheorem[numberwithin=chapter,style=break,name=Axiom]{axiom}

\tcolorboxenvironment{axiom}{ 
  breakable,
  colback=orange!5,
  colframe={orange!55!black},
}

\newtheoremstyle{break}{0pt}{0pt}{\normalfont}{0pt}{\bfseries}{}{\newline}{\thmname{#1} \thmnumber{#2} \quad \thmnote{\textbf#3}}
\declaretheorem[numberwithin=chapter,style=break,name=Corollary]{corollary}

\tcolorboxenvironment{corollary}{ 
  breakable,
  colback=blue!5,
  colframe={blue!55!black},
}

\usepackage{thmtools}

\declaretheoremstyle[
spaceabove=20pt, spacebelow=6pt,
headfont=\normalfont\bfseries,
notefont=\mdseries, notebraces={(}{)},
bodyfont=\normalfont,
postheadspace=1em,
numberwithin=section
]{exstyle}
\declaretheoremstyle[
spaceabove=6pt, spacebelow=20pt,
headfont=\normalfont\bfseries,
notefont=\mdseries, notebraces={(}{)},
bodyfont=\normalfont,
postheadspace=1em,
headpunct={},
qed=$\blacktriangleleft$,
numbered=no
]{solstyle}
\declaretheorem[style=exstyle]{example}
\declaretheorem[style=solstyle]{solution}

%\usepackage[most]{tcolorbox}
%\newtcbtheorem{policy}{Policy Type}{enhanced,frame empty,interior empty,colframe=ForestGreen!50!white,coltitle=ForestGreen!50!black,fonttitle=\bfseries,colbacktitle=ForestGreen!15!white,borderline={0.5mm}{0mm}{ForestGreen!15!white},borderline={0.5mm}{0mm}{ForestGreen!50!white,dashed},attach boxed title to top center={yshift=-2mm},boxed title style={boxrule=0.4pt},varwidth boxed title}{th}
%\newtcbtheorem{policy}{Policy Type}{fonttitle=\bfseries\upshape,fontupper=\itshape,colframe=blue!0!black,colback=white!99,colbacktitle=blue!20!white,coltitle=blue!75!black}{th}

\usepackage[lastexercise,answerdelayed]{exercise}
\counterwithin{Exercise}{section}
\counterwithin{Answer}{section}
\newcommand{\AtBeginExerciseHeader}{\hspace{-0.75cm}}
\renewcommand{\ExerciseHeader}{\AtBeginExerciseHeader \textbf{\ExerciseHeaderDifficulty \ExerciseName~\ExerciseHeaderNB} \quad }
%\renewcommand{\ExerciseHeader}{\textbf{\ExerciseName~\ExerciseHeaderNB}\quad}
\renewcommand{\AnswerHeader}{\AtBeginExerciseHeader \textbf{\AnswerName~\ExerciseHeaderNB}\smallskip\newline}

\titleformat{\chapter}[display]
  {\sffamily\bfseries\filright}
  {\hrule height 0pt \Huge\color{fireEngRed}\thechapter\hrule}
  {-\baselineskip}
  {\Huge\strut}
\titlespacing*{\chapter}
  {0pt}
  {-\topskip}
  {2\normalbaselineskip}

%\titleformat{\chapter}
%  {\normalfont\LARGE\bfseries}{\thechapter}{1em}{}
%\titlespacing*{\chapter}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}

% \usepackage{txfonts}
\usepackage{tgpagella}
%\usepackage{mathptmx, newtxmath}
%\usepackage{libertine}
%\usepackage[T1]{fontenc}
%\usepackage[libertine]{newtxmath}

% \usepackage[scaled=0.85]{DejaVuSansMono}
\usepackage{minted}

%% Section/Subsection Font Family
\titleformat{\section}
  {\fontfamily{qhv}\selectfont\bfseries\Large}
  {\thesection}
  {1em}
  {}
\titleformat{\subsection}
  {\fontfamily{qhv}\selectfont\bfseries\large}
  {\thesubsection}
  {1em}
  {}

\usepackage[most]{tcolorbox}
\tcbuselibrary{minted,skins}

\newtcblisting{pycode}[1][]{
  listing engine=minted,
  colback=pybg,
  colframe=white,
  listing only,
  minted style=manni,
  minted language=python,
  minted options={linenos=true,numbersep=3mm,texcl=true,baselinestretch=1.1, #1}
}

\newtcblisting{rcode}{
  listing engine=minted,
  colback=codeblockbg,
  colframe=black!50,
  listing only,
  minted style=pastie,
  minted language=r,
  minted options={linenos=true,numbersep=3mm,texcl=true,baselinestretch=1.1},
  left=5mm,enhanced,
  overlay={\begin{tcbclipinterior}\fill[black!25] (frame.south west)
            rectangle ([xshift=5mm]frame.north west);\end{tcbclipinterior}}
}

\definecolor{codeblockbg}{rgb}{0.97,0.97,0.97}

\definecolor{pybg}{rgb}{0.98,0.98,0.98}
%\newminted{pycon}{bgcolor=pybg, linenos=true, tabsize=4}
%\usemintedstyle{vs}
